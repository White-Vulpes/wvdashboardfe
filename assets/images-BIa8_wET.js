import{_ as D,a4 as Je,a5 as He,r as m,a6 as Ke,m as Qe,b as ye,j as u,d as ve,a7 as Xe,a8 as Ze,e as we,a as Se,s as ie,u as ke,g as Ae,a9 as et,G as Be,Q as tt,E as re,J as nt,h as oe,R as me,C as Ee,B as Q,aa as rt,V as at,T as ee,a1 as pe,I as be,P as ot,M as it,x as _e,y as K,ab as st,ac as ze,l as lt,ad as We,ae,af as Fe,p as ct,ag as ut,z as dt,H as pt}from"./index-CioVp1aC.js";import{C as ft}from"./config-global-D6eFU9aV.js";import{C as gt}from"./Checkbox-BnGfMiJX.js";import{S as ht}from"./Stack-COS8PoYX.js";import{F as vt,I as mt,T as yt}from"./TextField-DP29VBWE.js";import{S as bt}from"./Select-CBm2DIGv.js";import{F as Ie,L as Le}from"./LastPage-BMVMkrl9.js";const xt=(e,t)=>e.filter(n=>t.includes(n)),se=(e,t,n)=>{const r=e.keys[0];Array.isArray(t)?t.forEach((o,a)=>{n((d,f)=>{a<=e.keys.length-1&&(a===0?Object.assign(d,f):d[e.up(e.keys[a])]=f)},o)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:xt(e.keys,Object.keys(t))).forEach(a=>{if(e.keys.indexOf(a)!==-1){const d=t[a];d!==void 0&&n((f,h)=>{r===a?Object.assign(f,h):f[e.up(a)]=h},d)}}):(typeof t=="number"||typeof t=="string")&&n((o,a)=>{Object.assign(o,a)},t)};function X(e){return e?`Level${e}`:""}function fe(e){return e.unstable_level>0&&e.container}function qe(e){return function(n){return`var(--Grid-${n}Spacing${X(e.unstable_level)})`}}function $e(e){return function(n){return e.unstable_level===0?`var(--Grid-${n}Spacing)`:`var(--Grid-${n}Spacing${X(e.unstable_level-1)})`}}function Oe(e){return e.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${X(e.unstable_level-1)})`}const Ct=({theme:e,ownerState:t})=>{const n=qe(t),r={};return se(e.breakpoints,t.gridSize,(o,a)=>{let d={};a===!0&&(d={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(d={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(d={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / ${Oe(t)}${fe(t)?` + ${n("column")}`:""})`}),o(r,d)}),r},jt=({theme:e,ownerState:t})=>{const n={};return se(e.breakpoints,t.gridOffset,(r,o)=>{let a={};o==="auto"&&(a={marginLeft:"auto"}),typeof o=="number"&&(a={marginLeft:o===0?"0px":`calc(100% * ${o} / ${Oe(t)})`}),r(n,a)}),n},Pt=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=fe(t)?{[`--Grid-columns${X(t.unstable_level)}`]:Oe(t)}:{"--Grid-columns":12};return se(e.breakpoints,t.columns,(r,o)=>{r(n,{[`--Grid-columns${X(t.unstable_level)}`]:o})}),n},wt=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=$e(t),r=fe(t)?{[`--Grid-rowSpacing${X(t.unstable_level)}`]:n("row")}:{};return se(e.breakpoints,t.rowSpacing,(o,a)=>{var d;o(r,{[`--Grid-rowSpacing${X(t.unstable_level)}`]:typeof a=="string"?a:(d=e.spacing)==null?void 0:d.call(e,a)})}),r},St=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=$e(t),r=fe(t)?{[`--Grid-columnSpacing${X(t.unstable_level)}`]:n("column")}:{};return se(e.breakpoints,t.columnSpacing,(o,a)=>{var d;o(r,{[`--Grid-columnSpacing${X(t.unstable_level)}`]:typeof a=="string"?a:(d=e.spacing)==null?void 0:d.call(e,a)})}),r},kt=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return se(e.breakpoints,t.direction,(r,o)=>{r(n,{flexDirection:o})}),n},Et=({ownerState:e})=>{const t=qe(e),n=$e(e);return D({minWidth:0,boxSizing:"border-box"},e.container&&D({display:"flex",flexWrap:"wrap"},e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},{margin:`calc(${t("row")} / -2) calc(${t("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${t("row")} * -1) 0px 0px calc(${t("column")} * -1)`}),(!e.container||fe(e))&&D({padding:`calc(${n("row")} / 2) calc(${n("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${n("row")} 0px 0px ${n("column")}`}))},$t=e=>{const t=[];return Object.entries(e).forEach(([n,r])=>{r!==!1&&r!==void 0&&t.push(`grid-${n}-${String(r)}`)}),t},Ot=(e,t="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach(([o,a])=>{n(a)&&r.push(`spacing-${o}-${String(a)}`)}),r}return[]},_t=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`],Ft=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],It=Je(),Lt=He("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function Nt(e){return Ze({props:e,name:"MuiGrid",defaultTheme:It})}function Gt(e={}){const{createStyledComponent:t=Lt,useThemeProps:n=Nt,componentName:r="MuiGrid"}=e,o=m.createContext(void 0),a=(h,l)=>{const{container:v,direction:p,spacing:j,wrap:w,gridSize:b}=h,F={root:["root",v&&"container",w!=="wrap"&&`wrap-xs-${String(w)}`,..._t(p),...$t(b),...v?Ot(j,l.breakpoints.keys[0]):[]]};return we(F,I=>Se(r,I),{})},d=t(Pt,St,wt,Ct,kt,Et,jt),f=m.forwardRef(function(l,v){var p,j,w,b,F,I,S,O;const L=Ke(),k=n(l),R=Qe(k),A=m.useContext(o),{className:B,children:N,columns:C=12,container:T=!1,component:W="div",direction:c="row",wrap:s="wrap",spacing:i=0,rowSpacing:y=i,columnSpacing:g=i,disableEqualOverflow:x,unstable_level:P=0}=R,G=ye(R,Ft);let E=x;P&&x!==void 0&&(E=l.disableEqualOverflow);const z={},$={},M={};Object.entries(G).forEach(([V,ne])=>{L.breakpoints.values[V]!==void 0?z[V]=ne:L.breakpoints.values[V.replace("Offset","")]!==void 0?$[V.replace("Offset","")]=ne:M[V]=ne});const Z=(p=l.columns)!=null?p:P?void 0:C,J=(j=l.spacing)!=null?j:P?void 0:i,H=(w=(b=l.rowSpacing)!=null?b:l.spacing)!=null?w:P?void 0:y,le=(F=(I=l.columnSpacing)!=null?I:l.spacing)!=null?F:P?void 0:g,_=D({},R,{level:P,columns:Z,container:T,direction:c,wrap:s,spacing:J,rowSpacing:H,columnSpacing:le,gridSize:z,gridOffset:$,disableEqualOverflow:(S=(O=E)!=null?O:A)!=null?S:!1,parentDisableEqualOverflow:A}),q=a(_,L);let U=u.jsx(d,D({ref:v,as:W,ownerState:_,className:ve(q.root,B)},M,{children:m.Children.map(N,V=>{if(m.isValidElement(V)&&Xe(V,["Grid"])){var ne;return m.cloneElement(V,{unstable_level:(ne=V.props.unstable_level)!=null?ne:P+1})}return V})}));return E!==void 0&&E!==(A??!1)&&(U=u.jsx(o.Provider,{value:E,children:U})),U});return f.muiName="Grid",f}const Ne=Gt({createStyledComponent:ie("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>ke({props:e,name:"MuiGrid2"})});function Rt(e){return Se("MuiPagination",e)}Ae("MuiPagination",["root","ul","outlined","text"]);const Tt=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function Mt(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:o=1,disabled:a=!1,hideNextButton:d=!1,hidePrevButton:f=!1,onChange:h,page:l,showFirstButton:v=!1,showLastButton:p=!1,siblingCount:j=1}=e,w=ye(e,Tt),[b,F]=et({controlled:l,default:o,name:n,state:"page"}),I=(C,T)=>{l||F(T),h&&h(C,T)},S=(C,T)=>{const W=T-C+1;return Array.from({length:W},(c,s)=>C+s)},O=S(1,Math.min(t,r)),L=S(Math.max(r-t+1,t+1),r),k=Math.max(Math.min(b-j,r-t-j*2-1),t+2),R=Math.min(Math.max(b+j,t+j*2+2),L.length>0?L[0]-2:r-1),A=[...v?["first"]:[],...f?[]:["previous"],...O,...k>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...S(k,R),...R<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...L,...d?[]:["next"],...p?["last"]:[]],B=C=>{switch(C){case"first":return 1;case"previous":return b-1;case"next":return b+1;case"last":return r;default:return null}},N=A.map(C=>typeof C=="number"?{onClick:T=>{I(T,C)},type:"page",page:C,selected:C===b,disabled:a,"aria-current":C===b?"true":void 0}:{onClick:T=>{I(T,B(C))},type:C,page:B(C),selected:!1,disabled:a||C.indexOf("ellipsis")===-1&&(C==="next"||C==="last"?b>=r:b<=1)});return D({items:N},w)}function Dt(e){return Se("MuiPaginationItem",e)}const Y=Ae("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),Ge=Be(u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Re=Be(u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),At=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],Ue=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${oe(n.size)}`],n.variant==="text"&&t[`text${oe(n.color)}`],n.variant==="outlined"&&t[`outlined${oe(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},Bt=e=>{const{classes:t,color:n,disabled:r,selected:o,size:a,shape:d,type:f,variant:h}=e,l={root:["root",`size${oe(a)}`,h,d,n!=="standard"&&`color${oe(n)}`,n!=="standard"&&`${h}${oe(n)}`,r&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[f]],icon:["icon"]};return we(l,Dt,t)},zt=ie("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Ue})(({theme:e,ownerState:t})=>D({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),Wt=ie(tt,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Ue})(({theme:e,ownerState:t})=>D({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Y.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Y.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:re(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:re(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${Y.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>D({},t.variant==="text"&&{[`&.${Y.selected}`]:D({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${Y.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${Y.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Y.selected}`]:D({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:re(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:re(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:re(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:re(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${Y.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),qt=ie("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>D({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),Ut=m.forwardRef(function(t,n){const r=ke({props:t,name:"MuiPaginationItem"}),{className:o,color:a="standard",component:d,components:f={},disabled:h=!1,page:l,selected:v=!1,shape:p="circular",size:j="medium",slots:w={},type:b="page",variant:F="text"}=r,I=ye(r,At),S=D({},r,{color:a,disabled:h,selected:v,shape:p,size:j,type:b,variant:F}),O=nt(),L=Bt(S),R=(O?{previous:w.next||f.next||Re,next:w.previous||f.previous||Ge,last:w.first||f.first||Ie,first:w.last||f.last||Le}:{previous:w.previous||f.previous||Ge,next:w.next||f.next||Re,first:w.first||f.first||Ie,last:w.last||f.last||Le})[b];return b==="start-ellipsis"||b==="end-ellipsis"?u.jsx(zt,{ref:n,ownerState:S,className:ve(L.root,o),children:"…"}):u.jsxs(Wt,D({ref:n,ownerState:S,component:d,disabled:h,className:ve(L.root,o)},I,{children:[b==="page"&&l,R?u.jsx(qt,{as:R,ownerState:S,className:L.icon}):null]}))}),Vt=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],Yt=e=>{const{classes:t,variant:n}=e;return we({root:["root",n],ul:["ul"]},Rt,t)},Jt=ie("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),Ht=ie("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Kt(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const Qt=m.forwardRef(function(t,n){const r=ke({props:t,name:"MuiPagination"}),{boundaryCount:o=1,className:a,color:d="standard",count:f=1,defaultPage:h=1,disabled:l=!1,getItemAriaLabel:v=Kt,hideNextButton:p=!1,hidePrevButton:j=!1,renderItem:w=N=>u.jsx(Ut,D({},N)),shape:b="circular",showFirstButton:F=!1,showLastButton:I=!1,siblingCount:S=1,size:O="medium",variant:L="text"}=r,k=ye(r,Vt),{items:R}=Mt(D({},r,{componentName:"Pagination"})),A=D({},r,{boundaryCount:o,color:d,count:f,defaultPage:h,disabled:l,getItemAriaLabel:v,hideNextButton:p,hidePrevButton:j,renderItem:w,shape:b,showFirstButton:F,showLastButton:I,siblingCount:S,size:O,variant:L}),B=Yt(A);return u.jsx(Jt,D({"aria-label":"pagination navigation",className:ve(B.root,a),ownerState:A,ref:n},k,{children:u.jsx(Ht,{className:B.ul,ownerState:A,children:R.map((N,C)=>u.jsx("li",{children:w(D({},N,{color:d,"aria-label":v(N.type,N.page,N.selected),shape:b,size:O,variant:L}))},C))})}))});function Xt({product:e,addItem:t,removeItem:n,isSelected:r}){const[o,a]=m.useState(r),d=()=>{a(!o),o?n(e):t(e)};return u.jsx(me,{in:!0,timeout:500,children:u.jsxs(Ee,{onClick:d,children:[u.jsxs(Q,{sx:{pt:"100%",position:"relative"},children:[u.jsx(rt,{variant:"inverted",sx:{zIndex:9,top:16,right:0,position:"absolute",backgroundColor:"rgba(0, 0, 0, 0)"},children:u.jsx(gt,{color:"primary",checked:o})}),u.jsx(Q,{component:"img",alt:e.name,src:e.url,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}})]}),u.jsxs(ht,{spacing:2,sx:{p:3},children:[u.jsx(at,{color:"inherit",underline:"hover",variant:"subtitle2",noWrap:!0,children:e.name.split(".")[0]}),u.jsx(Q,{display:"flex",alignItems:"center",justifyContent:"space-between",children:u.jsx(ee,{children:e.category})})]})]})})}function Zt({options:e,sortBy:t,onSort:n,sx:r,...o}){var l;const[a,d]=m.useState(null),f=m.useCallback(v=>{d(v.currentTarget)},[]),h=m.useCallback(()=>{d(null)},[]);return u.jsxs(u.Fragment,{children:[u.jsxs(pe,{disableRipple:!0,color:"inherit",onClick:f,endIcon:u.jsx(be,{icon:a?"eva:chevron-up-fill":"eva:chevron-down-fill"}),sx:r,...o,children:["Sort By: ",u.jsx(ee,{component:"span",variant:"subtitle2",sx:{color:"text.secondary"},children:(l=e.find(v=>v.value===t))==null?void 0:l.label})]}),u.jsx(ot,{open:!!a,anchorEl:a,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:u.jsx(it,{disablePadding:!0,sx:{p:.5,gap:.5,width:160,display:"flex",flexDirection:"column",[`& .${_e.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${_e.selected}`]:{bgcolor:"action.selected"}}},children:e.map(v=>u.jsx(K,{selected:v.value===t,onClick:()=>{n(v.value),h()},children:v.label},v.value))})})]})}function en({totalItems:e,sx:t,...n}){return u.jsx(Q,{sx:{right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:r=>r.spacing(1,3,1,2),boxShadow:r=>r.customShadows.dropdown,transition:r=>r.transitions.create(["opacity"]),"&:hover":{opacity:.72},...t},...n,children:u.jsx(st,{badgeContent:e,color:"error",max:99,children:u.jsx(be,{icon:"fluent:delete-12-regular",width:24})})})}function tn({open:e,closeModal:t,deleteItems:n,count:r}){const o=()=>{t()},a=()=>{n()};return u.jsx(ze,{open:e,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:u.jsx(me,{in:e,children:u.jsxs(Ee,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,outline:0,p:4},children:[u.jsx(ee,{id:"modal-modal-title",variant:"h3",component:"h1",children:"Delete?"}),u.jsxs(ee,{id:"modal-modal-description",sx:{mt:2,mb:3},children:["You are about to delete ",r," images.",u.jsx("br",{})," This action is irreversible"]}),u.jsxs(Q,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(pe,{color:"primary",size:"large",onClick:o,children:u.jsx(ee,{sx:{fontWeight:600},children:"Close"})}),u.jsx(pe,{color:"error",variant:"contained",size:"large",onClick:a,children:u.jsx(ee,{sx:{fontWeight:600},children:"Yes, I am sure"})})]})]})})})}function te(){te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(c,s,i){c[s]=i.value},o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function h(c,s,i){return Object.defineProperty(c,s,{value:i,enumerable:!0,configurable:!0,writable:!0}),c[s]}try{h({},"")}catch{h=function(s,i,y){return s[i]=y}}function l(c,s,i,y){var g=s&&s.prototype instanceof j?s:j,x=Object.create(g.prototype),P=new C(y||[]);return r(x,"_invoke",{value:R(c,i,P)}),x}function v(c,s,i){try{return{type:"normal",arg:c.call(s,i)}}catch(y){return{type:"throw",arg:y}}}e.wrap=l;var p={};function j(){}function w(){}function b(){}var F={};h(F,a,function(){return this});var I=Object.getPrototypeOf,S=I&&I(I(T([])));S&&S!==t&&n.call(S,a)&&(F=S);var O=b.prototype=j.prototype=Object.create(F);function L(c){["next","throw","return"].forEach(function(s){h(c,s,function(i){return this._invoke(s,i)})})}function k(c,s){function i(g,x,P,G){var E=v(c[g],c,x);if(E.type!=="throw"){var z=E.arg,$=z.value;return $&&typeof $=="object"&&n.call($,"__await")?s.resolve($.__await).then(function(M){i("next",M,P,G)},function(M){i("throw",M,P,G)}):s.resolve($).then(function(M){z.value=M,P(z)},function(M){return i("throw",M,P,G)})}G(E.arg)}var y;r(this,"_invoke",{value:function(g,x){function P(){return new s(function(G,E){i(g,x,G,E)})}return y=y?y.then(P,P):P()}})}function R(c,s,i){var y="suspendedStart";return function(g,x){if(y==="executing")throw new Error("Generator is already running");if(y==="completed"){if(g==="throw")throw x;return W()}for(i.method=g,i.arg=x;;){var P=i.delegate;if(P){var G=A(P,i);if(G){if(G===p)continue;return G}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(y==="suspendedStart")throw y="completed",i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);y="executing";var E=v(c,s,i);if(E.type==="normal"){if(y=i.done?"completed":"suspendedYield",E.arg===p)continue;return{value:E.arg,done:i.done}}E.type==="throw"&&(y="completed",i.method="throw",i.arg=E.arg)}}}function A(c,s){var i=s.method,y=c.iterator[i];if(y===void 0)return s.delegate=null,i==="throw"&&c.iterator.return&&(s.method="return",s.arg=void 0,A(c,s),s.method==="throw")||i!=="return"&&(s.method="throw",s.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var g=v(y,c.iterator,s.arg);if(g.type==="throw")return s.method="throw",s.arg=g.arg,s.delegate=null,p;var x=g.arg;return x?x.done?(s[c.resultName]=x.value,s.next=c.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,p):x:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,p)}function B(c){var s={tryLoc:c[0]};1 in c&&(s.catchLoc=c[1]),2 in c&&(s.finallyLoc=c[2],s.afterLoc=c[3]),this.tryEntries.push(s)}function N(c){var s=c.completion||{};s.type="normal",delete s.arg,c.completion=s}function C(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(B,this),this.reset(!0)}function T(c){if(c){var s=c[a];if(s)return s.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var i=-1,y=function g(){for(;++i<c.length;)if(n.call(c,i))return g.value=c[i],g.done=!1,g;return g.value=void 0,g.done=!0,g};return y.next=y}}return{next:W}}function W(){return{value:void 0,done:!0}}return w.prototype=b,r(O,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:w,configurable:!0}),w.displayName=h(b,f,"GeneratorFunction"),e.isGeneratorFunction=function(c){var s=typeof c=="function"&&c.constructor;return!!s&&(s===w||(s.displayName||s.name)==="GeneratorFunction")},e.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,b):(c.__proto__=b,h(c,f,"GeneratorFunction")),c.prototype=Object.create(O),c},e.awrap=function(c){return{__await:c}},L(k.prototype),h(k.prototype,d,function(){return this}),e.AsyncIterator=k,e.async=function(c,s,i,y,g){g===void 0&&(g=Promise);var x=new k(l(c,s,i,y),g);return e.isGeneratorFunction(s)?x:x.next().then(function(P){return P.done?P.value:x.next()})},L(O),h(O,f,"Generator"),h(O,a,function(){return this}),h(O,"toString",function(){return"[object Generator]"}),e.keys=function(c){var s=Object(c),i=[];for(var y in s)i.push(y);return i.reverse(),function g(){for(;i.length;){var x=i.pop();if(x in s)return g.value=x,g.done=!1,g}return g.done=!0,g}},e.values=T,C.prototype={constructor:C,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!c)for(var s in this)s.charAt(0)==="t"&&n.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var s=this;function i(E,z){return x.type="throw",x.arg=c,s.next=E,z&&(s.method="next",s.arg=void 0),!!z}for(var y=this.tryEntries.length-1;y>=0;--y){var g=this.tryEntries[y],x=g.completion;if(g.tryLoc==="root")return i("end");if(g.tryLoc<=this.prev){var P=n.call(g,"catchLoc"),G=n.call(g,"finallyLoc");if(P&&G){if(this.prev<g.catchLoc)return i(g.catchLoc,!0);if(this.prev<g.finallyLoc)return i(g.finallyLoc)}else if(P){if(this.prev<g.catchLoc)return i(g.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return i(g.finallyLoc)}}}},abrupt:function(c,s){for(var i=this.tryEntries.length-1;i>=0;--i){var y=this.tryEntries[i];if(y.tryLoc<=this.prev&&n.call(y,"finallyLoc")&&this.prev<y.finallyLoc){var g=y;break}}g&&(c==="break"||c==="continue")&&g.tryLoc<=s&&s<=g.finallyLoc&&(g=null);var x=g?g.completion:{};return x.type=c,x.arg=s,g?(this.method="next",this.next=g.finallyLoc,p):this.complete(x)},complete:function(c,s){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&s&&(this.next=s),p},finish:function(c){for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s];if(i.finallyLoc===c)return this.complete(i.completion,i.afterLoc),N(i),p}},catch:function(c){for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s];if(i.tryLoc===c){var y=i.completion;if(y.type==="throw"){var g=y.arg;N(i)}return g}}throw new Error("illegal catch attempt")},delegateYield:function(c,s,i){return this.delegate={iterator:T(c),resultName:s,nextLoc:i},this.method==="next"&&(this.arg=void 0),p}},e}function Te(e,t,n,r,o,a,d){try{var f=e[a](d),h=f.value}catch(l){n(l);return}f.done?t(h):Promise.resolve(h).then(r,o)}function Ce(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function d(h){Te(a,r,o,d,f,"next",h)}function f(h){Te(a,r,o,d,f,"throw",h)}d(void 0)})}}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function nn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,je(e,t)}function je(e,t){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},je(e,t)}function rn(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function ge(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function f(v){try{l(r.next(v))}catch(p){d(p)}}function h(v){try{l(r.throw(v))}catch(p){d(p)}}function l(v){v.done?a(v.value):o(v.value).then(f,h)}l((r=r.apply(e,t||[])).next())})}function he(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(l){return function(v){return h([l,v])}}function h(l){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(v){l=[6,v],o=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function an(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],d;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(f){d={error:f}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return a}function on(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(an(arguments[t]));return e}var sn=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function xe(e,t){var n=ln(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function ln(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=sn.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var cn=[".DS_Store","Thumbs.db"];function un(e){return ge(this,void 0,void 0,function(){return he(this,function(t){return[2,dn(e)&&e.dataTransfer?gn(e.dataTransfer,e.type):pn(e)]})})}function dn(e){return!!e.dataTransfer}function pn(e){var t=fn(e.target)?e.target.files?Pe(e.target.files):[]:[];return t.map(function(n){return xe(n)})}function fn(e){return e!==null}function gn(e,t){return ge(this,void 0,void 0,function(){var n,r;return he(this,function(o){switch(o.label){case 0:return e.items?(n=Pe(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(hn))]):[3,2];case 1:return r=o.sent(),[2,Me(Ve(r))];case 2:return[2,Me(Pe(e.files).map(function(a){return xe(a)}))]}})})}function Me(e){return e.filter(function(t){return cn.indexOf(t.name)===-1})}function Pe(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function hn(e){if(typeof e.webkitGetAsEntry!="function")return De(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Ye(t):De(e)}function Ve(e){return e.reduce(function(t,n){return on(t,Array.isArray(n)?Ve(n):[n])},[])}function De(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=xe(t);return Promise.resolve(n)}function vn(e){return ge(this,void 0,void 0,function(){return he(this,function(t){return[2,e.isDirectory?Ye(e):mn(e)]})})}function Ye(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function a(){var d=this;t.readEntries(function(f){return ge(d,void 0,void 0,function(){var h,l,v;return he(this,function(p){switch(p.label){case 0:if(f.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return h=p.sent(),n(h),[3,4];case 3:return l=p.sent(),r(l),[3,4];case 4:return[3,6];case 5:v=Promise.all(f.map(vn)),o.push(v),a(),p.label=6;case 6:return[2]}})})},function(f){r(f)})}a()})}function mn(e){return ge(this,void 0,void 0,function(){return he(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var a=xe(o,e.fullPath);n(a)},function(o){r(o)})})]})})}function yn(e,t,n,r){var o=document.createElement("input");o.style.display="none",document.body.appendChild(o),o.type="file",e!=="*"&&(o.accept=e),o.multiple=t,o.addEventListener("change",function(a){n(a),document.body.removeChild(o)}),r&&r(o),o.dispatchEvent(new MouseEvent("click"))}var bn=function(t){var n=t.onFilesSelected,r=t.onFilesSuccessfullySelected,o=t.onFilesRejected,a=t.onClear,d=t.validators,f=m.useCallback(function(p){n==null||n(p),d==null||d.forEach(function(j){j.onFilesSelected(p)})},[n,d]),h=m.useCallback(function(p){r==null||r(p),d==null||d.forEach(function(j){j.onFilesSuccessfullySelected(p)})},[d,r]),l=m.useCallback(function(p){o==null||o(p),d==null||d.forEach(function(j){j.onFilesRejected(p)})},[d,o]),v=m.useCallback(function(){a==null||a(),d==null||d.forEach(function(p){p.onClear==null||p.onClear()})},[d,a]);return{onFilesSelected:f,onFilesSuccessfullySelected:h,onFilesRejected:l,onClear:v}},xn=[];function Cn(e){var t=e.accept,n=t===void 0?"*":t,r=e.multiple,o=r===void 0?!0:r,a=e.readAs,d=a===void 0?"Text":a,f=e.readFilesContent,h=f===void 0?!0:f,l=e.validators,v=l===void 0?xn:l,p=e.initializeWithCustomParameters,j=m.useState([]),w=j[0],b=j[1],F=m.useState([]),I=F[0],S=F[1],O=m.useState([]),L=O[0],k=O[1],R=m.useState(!1),A=R[0],B=R[1],N=bn(e),C=N.onFilesSelected,T=N.onFilesSuccessfullySelected,W=N.onFilesRejected,c=N.onClear,s=m.useCallback(function(){b([]),S([]),k([])},[]),i=m.useCallback(function(){s(),c==null||c()},[s,c]),y=m.useCallback(function(x){return new Promise(function(){var P=Ce(te().mark(function G(E,z){var $,M,Z;return te().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:$=new FileReader,M=$["readAs"+d],M.call($,x),Z=function(_){var q=de({},(rn(_),_));z(de({},q))},$.onload=Ce(te().mark(function le(){return te().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",Promise.all(v.map(function(U){return U.validateAfterParsing(e,x,$).catch(function(V){return Promise.reject(Z(V))})})).then(function(){return E(de({},x,{content:$.result,name:x.name,lastModified:x.lastModified}))}).catch(function(){}));case 1:case"end":return q.stop()}},le)})),$.onerror=function(){Z({name:"FileReaderError",readerError:$.error,causedByFile:x})};case 6:case"end":return H.stop()}},G)}));return function(G,E){return P.apply(this,arguments)}}())},[e,d,v]),g=m.useCallback(function(){var x=n instanceof Array?n.join(","):n;yn(x,o,function(){var P=Ce(te().mark(function G(E){var z,$,M,Z,J,H;return te().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return s(),z=E.target,$=z.files?Array.from(z.files):[],B(!0),_.next=6,Promise.all(v.map(function(q){return q.validateBeforeParsing(e,$).catch(function(U){return Array.isArray(U)?U:[U]})}));case 6:if(M=_.sent.flat(1).filter(Boolean),b($),k(M),!M.length){_.next=15;break}return B(!1),b([]),W==null||W({errors:M}),C==null||C({errors:M}),_.abrupt("return");case 15:if(h){_.next=19;break}return B(!1),C==null||C({plainFiles:$,filesContent:[]}),_.abrupt("return");case 19:return _.next=21,un(E);case 21:return Z=_.sent,J=[],_.next=25,Promise.all(Z.map(function(q){return y(q).catch(function(U){J.push.apply(J,Array.isArray(U)?U:[U])})}));case 25:if(H=_.sent,B(!1),!J.length){_.next=34;break}return b([]),S([]),k(function(q){return[].concat(q,J)}),W==null||W({errors:J}),C==null||C({errors:M.concat(J)}),_.abrupt("return");case 34:S(H),b($),k([]),T==null||T({filesContent:H,plainFiles:$}),C==null||C({plainFiles:$,filesContent:H});case 39:case"end":return _.stop()}},G)}));return function(G){return P.apply(this,arguments)}}(),p)},[e,n,s,p,o,W,C,T,y,h,v]);return{openFilePicker:g,filesContent:I,errors:L,loading:A,plainFiles:w,clear:i}}var jn=function(){function e(){this.invokerHookId=void 0}var t=e.prototype;return t.onFilesSelected=function(r){},t.onFilesSuccessfullySelected=function(r){},t.onFilesRejected=function(r){},t.onClear=function(){},t.onFileRemoved=function(r,o){},e}(),Pn=function(e){nn(t,e);function t(r){var o;return o=e.call(this)||this,o.acceptedFileExtensions=void 0,o.acceptedFileExtensions=r,o}var n=t.prototype;return n.validateBeforeParsing=function(o,a){var d=this,f=a.reduce(function(h,l){var v=l.name.split(".").pop();return v?d.acceptedFileExtensions.includes(v)?h:[].concat(h,[{name:"FileTypeError",reason:"FILE_TYPE_NOT_ACCEPTED",causedByFile:l}]):[].concat(h,[{name:"FileTypeError",reason:"FILE_EXTENSION_NOT_FOUND",causedByFile:l}])},[]);return f.length>0?Promise.reject(f):Promise.resolve()},n.validateAfterParsing=function(o,a,d){return Promise.resolve()},t}(jn);const ce=12;function wn({addSelectedFiles:e}){const t=lt(),{enqueueSnackbar:n}=We(),r=m.useRef(),{openFilePicker:o}=Cn({multiple:!0,readFilesContent:!1,validators:[new Pn(["jpg","jpeg","JPG","JPEG"])],onFilesSelected:({plainFiles:l,errors:v})=>{l!==void 0&&e(p=>(p.length+l.length>ce&&n(`Maximum of ${ce} files can be uploaded at once.`,{variant:"error"}),[...p,...l.slice(0,ce-p.length)])),v!==void 0&&ae.forEach(v,p=>{n(`${p.causedByFile.type} is not supported. Please drop a valid file`,{variant:"error"})})}});document.addEventListener("dragover",l=>{l.preventDefault()}),document.addEventListener("drop",l=>{l.preventDefault()});const a=m.useCallback(l=>{l.preventDefault(),r.current&&(r.current.style.backgroundColor="white");const v=["image/jpg","image/jpeg"],p=ae.chain(l.dataTransfer.files).map(j=>v.includes(j.type)?j:(n(`${j.type} is not supported. Please drop a valid file`,{variant:"error"}),null)).compact().value();e(j=>(j.length+p.length>ce&&n("Maximum of 16 files can be uploaded at once.",{variant:"error"}),[...j,...p.slice(0,ce-j.length)]))},[n,e]),d=m.useCallback(l=>{l.preventDefault(),r.current&&(r.current.style.backgroundColor=t.palette.primary.lighter)},[t]),f=m.useCallback(l=>{l.preventDefault(),r.current&&(r.current.style.backgroundColor="white")},[]),h=m.useCallback(l=>{o()},[o]);return u.jsxs(Q,{ref:r,sx:{height:150,position:"relative",outlineStyle:"dashed",outlineColor:t.palette.primary.light,outlineWidth:"2px",borderRadius:"16px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",transition:".3s"},children:[u.jsxs(Q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",width:"100%"},children:[u.jsx(be,{width:50,icon:"solar:inbox-linear"}),u.jsx(ee,{children:"Drop or Click Here to Select Files"})]}),u.jsx(Q,{onDrop:a,onDragEnter:d,onClick:h,onDragLeave:f,onMouseEnter:d,onMouseLeave:f,sx:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}})]})}function Sn({open:e,closeModal:t}){const[n,r]=m.useState([]),[o,a]=m.useState(""),[d,f]=m.useState("");m.useEffect(()=>{n.length>0&&(o===""?Fe("Please Select a Category",{variant:"error"}):Fe("Uploading...",{variant:"uploadItems",selectedItems:n,category:o==="ADD_NEW"?d:o,persist:!0}),r([]))},[n,o,d]);const h=()=>{t()},l=p=>{a(p.target.value)},v=p=>{f(p.target.value)};return u.jsx(ze,{open:e,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:u.jsx(me,{in:e,children:u.jsxs(Ee,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,outline:0,p:4},children:[u.jsxs(vt,{fullWidth:!0,sx:{display:"flex",gap:3,mb:3},children:[u.jsx(mt,{id:"demo-simple-select-label",children:"Category"}),u.jsxs(bt,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Category",onChange:l,children:[u.jsx(K,{value:"NEW_BORN",children:"New Born"}),u.jsx(K,{value:"JEWELLERY",children:"Jewellery"}),u.jsx(K,{value:"MÉLANGE",children:"Mélange"}),u.jsx(K,{value:"FASHION",children:"Fashion"}),u.jsx(K,{value:"COMMERCIAL",children:"Commercial"}),u.jsx(K,{value:"INTERIOR",children:"Interior"}),u.jsx(K,{value:"PRODUCT",children:"Product"}),u.jsx(K,{value:"WILDLIFE",children:"Wildlife"}),u.jsx(K,{value:"ADD_NEW",children:"Add New Category"})]}),o==="ADD_NEW"?u.jsx(me,{in:!0,children:u.jsx(yt,{value:d,onChange:v,label:"Category Name"})}):u.jsx(u.Fragment,{}),u.jsx(wn,{addSelectedFiles:r})]}),u.jsx(pe,{onClick:h,children:"Close"})]})})})}const ue=32;function kn({components:e}){const[t,n]=m.useState(""),[r,o]=ct(),[a,d]=m.useState([]),[f,h]=m.useState(!0),[l,v]=m.useState([]),[p,j]=m.useState(1),[w,b]=m.useState(!1),[F,I]=m.useState("deleted"),{enqueueSnackbar:S}=We(),[O,L]=m.useState(!1);m.useEffect(()=>{F!=="deleting"&&O===!1&&fetch("https://white-vulpes.hasura.app/v1/graphql",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({query:e.query,variables:{website_id:"267b46d5-d330-478b-9a51-89af8bfb7528"}})}).then(i=>i.json()).then(i=>{h(!1),d(i.data.images.slice(0,ue)),v(i.data.images)})},[o,e,F,O]);const[k,R]=m.useState([]);m.useEffect(()=>{d(ae.sortBy(l,[t]).slice(ue*(p-1),ue*p))},[t,l,p]);const A=m.useCallback(i=>{n(i)},[]),B=m.useCallback(i=>{R(y=>[...y,i])},[]),N=m.useCallback(i=>{R(y=>ae.filter(y,g=>!ae.isEqual(g,i)))},[]),C=m.useCallback((i,y)=>{j(y)},[]),T=m.useCallback(()=>{k.length>0&&b(!0)},[k]),W=m.useCallback(()=>{b(!1)},[]),c=m.useCallback(()=>{I("deleting"),fetch("https://aayushparmar.com/api/deleteImages",{method:"POST",headers:{"content-type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({images:k})}).then(i=>i.json()).then(i=>{i.errors?S("There was an error deleting images",{variant:"error"}):i.anomaly>0?S(`Anomaly in ${i.anomaly} images`,{variant:"warning"}):S(`Deleted ${i.affected_rows} images`,{variant:"success"}),b(!1),I("deleted"),R([])}).catch(i=>{S("There was an error. Please try again later",{variant:"error"}),b(!1),I("deleted")})},[k,o,S]),s=m.useCallback(()=>{L(i=>!i)},[]);return f||F==="deleting"?u.jsx(ut,{}):u.jsxs(dt,{children:[u.jsx(ee,{variant:"h4",sx:{mb:5},children:"Images"}),u.jsx(en,{totalItems:k.length,onClick:T}),u.jsxs(Q,{display:"flex",alignItems:"center",flexWrap:"wrap-reverse",justifyContent:"space-between",sx:{mb:5},children:[u.jsx(pe,{color:"primary",size:"medium",variant:"contained",onClick:s,startIcon:u.jsx(be,{width:15,icon:"fluent:add-12-filled"}),children:"Upload"}),u.jsx(Q,{gap:1,display:"flex",flexShrink:0,sx:{my:1},children:u.jsx(Zt,{sortBy:t,onSort:A,options:[{value:"name",label:"Name"},{value:"category",label:"Category"},{value:"created_at",label:"Uploaded At"}]})})]}),u.jsx(Ne,{container:!0,spacing:3,children:a.map(i=>u.jsx(Ne,{xs:12,sm:6,md:3,children:u.jsx(Xt,{product:i,addItem:B,removeItem:N,isSelected:ae.some(k,i)})},i.id))}),u.jsx(Qt,{count:Math.floor(l.length/ue)+ +(l.length%ue!==0),color:"primary",page:p,sx:{mt:8,mx:"auto"},onChange:C}),u.jsx(tn,{open:w,closeModal:W,deleteItems:c,count:k.length}),u.jsx(Sn,{open:O,closeModal:s})]})}function Nn({nav:e}){return u.jsxs(u.Fragment,{children:[u.jsx(pt,{children:u.jsxs("title",{children:[" ",`Products - ${ft.appName}`]})}),u.jsx(kn,{components:JSON.parse(e.components)})]})}export{Nn as default};
